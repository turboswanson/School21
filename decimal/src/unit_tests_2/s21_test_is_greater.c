#include <check.h>
#include <stdio.h>

#include "../s21_decimal.h"

static s21_decimal lhs[] = {
    {{0x00000001, 0x00000000, 0x00000000, 0x00000000}}, // 0
    {{0x00000ABC, 0x00000000, 0x00000000, 0x00010000}}, // 274.8
    {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0x00000000}}, // 79228162514264337593543950.335
    {{0x00000001, 0x00000000, 0x00000000, 0x00000000}}, // 1
    {{0x0000ACD1, 0x00000000, 0x00000000, 0x80000000}},
    {{0x00000070, 0x00000000, 0x00000000, 0x80020000}}, // -1.12
    {{0x000000F4, 0x00000000, 0x00000000, 0x00030000}}, // 0.244
    {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF,
      0x00000000}}, // 79228162514264337593543950334
    {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0x00000000}}, // 79228162514264337593543950335
    {{0x00004E20, 0x00000000, 0x00000000, 0x00000000}},  // 20000
    {{0x0000000D, 0x0000AAA14, 0x00000000, 0x800A0000}}, // -8.5899345933
    {{0x0000000F, 0x00000013, 0x0000072E,
      0x800A0000}}, // -3390511560755.9760248847
    {{0x0000000F, 0x00000014, 0x0000072F,
      0x00020000}}, // 339235623516377647677.59
    {{0x99362457, 0x0007AE79, 0x00DDDDDD,
      0x00080000}}, // 2682203258601496911.34911575
    {{0x99362458, 0x0007AE79, 0x00000000, 0x00080000}}, // 21621621.21712728
    {{0x99362456, 0x0007AE79, 0x00000000, 0x00080000}}, // 21621621.21712726
    {{0x2113B8B0, 0x00000917, 0x00000000, 0x80070000}}, // -999494.3838384
    {{0x2113B8AF, 0x00000917, 0x00000000, 0x80070000}}, // -999494.3838383
    {{0x2113B8B1, 0x00000917, 0x00000000, 0x80070000}}, // -999494.3838385
    {{0x00003458, 0x00000054, 0x00000013,
      0x00030000}}, // 350488137761258746.968
    {{0x00003458, 0x00003054, 0x00000013,
      0x00030000}}, // 350488137761258746.968
    {{0x000011EB, 0x000A3000, 0x00000000, 0x80020000}}, // -45.87
    {{0x00000086, 0x00000DE0, 0x00000000, 0x00010000}}, // 13.4
    {{0x00000000, 0x00000CA0, 0x00000000, 0x00010000}}, // 0.0
    {{0x00003225, 0x0000000A, 0x00000000, 0x80020000}}, // -128.37
    {{0x001393BA, 0x00000000, 0x00000000, 0x00030000}}, // 1283.002
    {{0x0005D9E0, 0x00000000, 0x00000000, 0x80030000}}, // -383.456
    {{0x0005D9DF, 0x00000000, 0x00000000, 0x80030000}}, // -383.455
    {{0x0005D9E1, 0x00000000, 0x00000000, 0x80030000}}, // -383.457
    {{0x39608B53, 0x0000001C, 0x00000000, 0x00050000}}, // 1212217.12723
    {{0x39608B52, 0x0000001C, 0x00000000, 0x00050000}}, // 1212217.12722
    {{0x39608B54, 0x0000001C, 0x00000000, 0x00050000}}, // 1212217.12724
    {{0x000000B5, 0x00000000, 0x00000000, 0x80010000}}, // -18.1
    {{0x000000C2, 0x00000000, 0x00000000, 0x00010000}}, // 19.4
    {{0x000049E2, 0x0000D000, 0x00000000, 0x80020000}}, // -189.14
    {{0x00193D97, 0x00000EEC, 0x00000000, 0x00030000}}, // 1654.167
    {{0x0012D3AD, 0x0000C000, 0x00000000, 0x00030000}}, // 1233.837
    {{0x000042E3, 0x00C00000, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x000CC000, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x0000CC00, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x000000C0, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x0000000B, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x000000B0, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x00000B00, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x0000B000, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x000B0000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0x00B00000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0x0B000000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0xA0000000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0x0A000000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0x00A00000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0x000A0000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0x0000A000, 0x00000000, 0x00030000}}, // 17.123
    {{0x00000000, 0x00000A00, 0x00000000, 0x00040000}}, // 0.0000
    {{0x0000009A, 0x000000A0, 0x00000000, 0x80000000}}, // -154
    {{0x00003C28, 0x0000000A, 0x00000000, 0x00020000}}, // 154.00
    {{0x0000009A, 0x0000000D, 0x0000000B,
      0x80020000}}, // -2029141848666396427.78
    {{0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // 0
    {{0x00000000, 0x00000000, 0x00000000, 0x00070000}}, // 0.0000000
};

static s21_decimal rhs[] = {
    {{0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // 0
    {{0x00000000, 0x00000000, 0x00000000, 0x00010000}}, // 0.0
    {{0x00000000, 0x00000000, 0x00000000, 0x00030000}}, // 0.000
    {{0x00000001, 0x00000000, 0x00000000, 0x00000000}}, // 1
    {{0x00000001, 0x00000000, 0x00000000, 0x80000000}}, // -1
    {{0x00000070, 0x00000000, 0x00000000, 0x80020000}}, // -1.12
    {{0x000000F4, 0x00000000, 0x00000000, 0x00030000}}, // 0.244
    {{0xFFFFFFFE, 0xFFFFFFFF, 0xFFFFFFFF,
      0x00000000}}, // 79228162514264337593543950334
    {{0xFFFFFFFF, 0xFFFFFFFF, 0xFFFFFFFF,
      0x00000000}}, // 79228162514264337593543950335
    {{0x00004E20, 0x00000000, 0x00000000, 0x00000000}}, // 20000
    {{0x0000000D, 0x00000014, 0x00000000, 0x800A0000}}, // -8.5899345933
    {{0x0000000F, 0x00000013, 0x0000072E,
      0x800A0000}}, // -3390511560755.9760248847
    {{0x0000000F, 0x00000014, 0x0000072F,
      0x00020000}}, // 339235623516377647677.59
    {{0x99362457, 0x0007AE79, 0x00000000, 0x00080000}}, // 21621621.21712727
    {{0x99362458, 0x0007AE79, 0x00000000, 0x00080000}}, // 21621621.21712728
    {{0x99362456, 0x0007AE79, 0x00000000, 0x00080000}}, // 21621621.21712726
    {{0x2113B8B0, 0x00000917, 0x00000000, 0x80070000}}, // -999494.3838384
    {{0x2113B8AF, 0x00000917, 0x00000000, 0x80070000}}, // -999494.3838383
    {{0x2113B8B1, 0x00000917, 0x00000000, 0x80070000}}, // -999494.3838385
    {{0x00003458, 0x00000054, 0x00000013,
      0x00030000}}, // 350488137761258746.968
    {{0x00003458, 0x00000054, 0x00000013,
      0x00030000}}, // 350488190537816880.216
    {{0x000011EB, 0x00000000, 0x00000000, 0x80020000}}, // -45.87
    {{0x00000086, 0x00000000, 0x00000000, 0x00010000}}, // 1525572383552.6
    {{0x00000000, 0x00000000, 0x00000000, 0x00010000}}, // 1388133430067.2
    {{0x00003225, 0x00000000, 0x00000000, 0x80020000}}, // -128.37
    {{0x001393BA, 0x00000000, 0x00000000, 0x00030000}}, // 1283.002
    {{0x0005D9E0, 0x00000000, 0x00000000, 0x80030000}}, // -383.456
    {{0x0005D9DF, 0x00000000, 0x00000000, 0x80030000}}, // -383.455
    {{0x0005D9E1, 0x00000000, 0x00000000, 0x80030000}}, // -383.457
    {{0x39608B53, 0x0000001C, 0x00000000, 0x00050000}}, // 1212217.12723
    {{0x39608B52, 0x0000001C, 0x00000000, 0x00050000}}, // 1212217.12722
    {{0x39608B54, 0x0000001C, 0x00000000, 0x00050000}}, // 1212217.12724
    {{0x000000B5, 0x00000000, 0x00000000, 0x80010000}}, // -18.1
    {{0x000000C2, 0x00000000, 0x00000000, 0x00010000}}, // 19.4
    {{0x000049E2, 0x00000000, 0x00000000, 0x80020000}}, // -189.14
    {{0x00193D97, 0x00000000, 0x00000000, 0x00030000}}, // 16406776724.887
    {{0x0012D3AD, 0x00000000, 0x00000000, 0x00030000}}, // 1233.837
    {{0x000042E3, 0x00000000, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x80030000}}, // -17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x00030000}}, // 17.123
    {{0x000042E3, 0x00000000, 0x00000000, 0x00030000}}, // 17.123
    {{0x00000000, 0x00000000, 0x00000000, 0x00040000}}, // 0.0000
    {{0x0000009A, 0x00000000, 0x00000000, 0x80000000}}, // -154
    {{0x00003C28, 0x00000000, 0x00000000, 0x80020000}}, // 154.00
    {{0x0000009A, 0x0000000D, 0x0000000B,
      0x80020000}}, // -2029141848666396427.78
    {{0x00000000, 0x00000000, 0x00000000, 0x00000000}}, // 0
    {{0x00000000, 0x00000000, 0x00000000, 0x80070000}}, // 0.0000000
};

static int result[] = {
    1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0,
    0, 0, 1, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,
    1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1,
};

START_TEST(test) {
  for (int i = 0; i < 54; i++) {

    // printf("%s == %s\n", s21_output_decimal(lhs[i]),
    // s21_output_decimal(rhs[i]));
    int ret = s21_is_greater(lhs[i], rhs[i]);
    ck_assert_int_eq(ret, result[i]);
  }
}
END_TEST

Suite *suite_is_greater(void) {
  Suite *s;
  TCase *tc;

  s = suite_create("s21_is_greater");
  tc = tcase_create("s21_is_greater");

  if (s != NULL && tc != NULL) {
    tcase_add_test(tc, test);
    suite_add_tcase(s, tc);
  }

  return (s);
}
